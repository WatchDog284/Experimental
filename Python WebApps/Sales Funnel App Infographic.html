<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Funnel Analytics Infographic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
        }
        .code-block {
            background-color: #0d1117;
            color: #c9d1d9;
            padding: 1rem;
            border-radius: 0.5rem;
            font-family: monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
    <!-- 
        Palette: Brilliant Blues (#003f5c, #7a5195, #ef5675, #ffa600) 
        Constraint Confirmation: NEITHER Mermaid JS NOR SVG were used in this output.
    -->
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">

        <!-- Header Section -->
        <header class="text-center p-8 bg-white rounded-xl shadow-lg mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-[#003f5c]">Unlock Your Sales Funnel Insights</h1>
            <p class="text-lg text-gray-600 mt-4 max-w-3xl mx-auto">An overview of the Sales Funnel Analytics App, a tool designed to transform your raw sales data into actionable intelligence and drive performance.</p>
        </header>

        <!-- How It Works Section -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#003f5c]">A Simple 4-Step Process</h2>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 text-center">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <div class="text-4xl mb-3">üìÇ</div>
                    <h3 class="text-xl font-bold mb-2 text-[#003f5c]">1. Upload Data</h3>
                    <p class="text-gray-600">Start by uploading your Excel or CSV file containing your sales lead data.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <div class="text-4xl mb-3">üó∫Ô∏è</div>
                    <h3 class="text-xl font-bold mb-2 text-[#003f5c]">2. Map Columns</h3>
                    <p class="text-gray-600">Tell the app which columns represent your funnel stages like 'SDL First Touch Date' and 'Lead ID'.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <div class="text-4xl mb-3">üìÖ</div>
                    <h3 class="text-xl font-bold mb-2 text-[#003f5c]">3. Select Week</h3>
                    <p class="text-gray-600">Choose a date range to focus your analysis on weekly performance and trends.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <div class="text-4xl mb-3">üìä</div>
                    <h3 class="text-xl font-bold mb-2 text-[#003f5c]">4. Analyze Insights</h3>
                    <p class="text-gray-600">Instantly view your dynamic dashboard with interactive charts and KPIs.</p>
                </div>
            </div>
        </section>

        <!-- Getting Started Section -->
        <section class="mb-12 bg-white p-8 rounded-xl shadow-lg">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#003f5c]">Getting Started</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-2xl font-bold mb-4 text-[#7a5195]">Pre-requisites</h3>
                    <p class="text-gray-600 mb-4">Before running the application, you need to have Python installed on your system. Then, install the required libraries by running this command in your terminal:</p>
                    <div class="code-block">pip install streamlit pandas plotly openpyxl</div>
                </div>
                <div>
                    <h3 class="text-2xl font-bold mb-4 text-[#7a5195]">How to Run Locally</h3>
                    <p class="text-gray-600 mb-4">Save the script as `app.py`, navigate to its folder in your terminal, and run the following command to launch the app:</p>
                    <div class="code-block">streamlit run app.py</div>
                </div>
            </div>
        </section>

        <!-- Funnel Comparison Section -->
        <section class="mb-12 bg-white p-8 rounded-xl shadow-lg">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#003f5c]">Funnel Conversion Comparison</h2>
            <p class="text-center text-gray-600 mb-8 max-w-3xl mx-auto">The app provides a powerful side-by-side view of your all-time funnel performance versus the cohort of new leads generated in your selected week, helping you spot trends and measure efficiency.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-xl font-bold text-center mb-4">Overall Funnel (All Time)</h3>
                    <div class="chart-container h-80 md:h-96">
                        <canvas id="overallFunnelChart"></canvas>
                    </div>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-center mb-4">This Week's Funnel (New Leads)</h3>
                    <div class="chart-container h-80 md:h-96">
                        <canvas id="weeklyFunnelChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Disqualification Analysis Section -->
        <section class="mb-12">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-8 rounded-xl shadow-lg">
                    <h2 class="text-3xl font-bold mb-4 text-[#003f5c]">Why Are Deals Being Lost?</h2>
                    <p class="text-gray-600 mb-6">Understanding why leads are disqualified is critical for process improvement. The app automatically analyzes and ranks the reasons for losing deals, showing you where to focus your coaching and strategy efforts. This chart displays the top reasons for all leads disqualified in the selected week.</p>
                    <div class="text-2xl font-bold text-[#ef5675]">22%</div>
                    <p class="font-semibold text-gray-700">of disqualifications this week were due to "No Budget".</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-lg">
                    <h3 class="text-xl font-bold text-center mb-4">Top Disqualification Reasons This Week</h3>
                    <div class="chart-container h-96">
                        <canvas id="disqualificationChart"></canvas>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Weekly Performance Section -->
        <section class="mb-12 bg-white p-8 rounded-xl shadow-lg">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#003f5c]">Weekly Performance Snapshot</h2>
            <p class="text-center text-gray-600 mb-8 max-w-3xl mx-auto">Track your team's momentum with a clear overview of all sales activities that occurred during the selected week. Monitor new leads, qualifications, and disqualifications to ensure your pipeline stays healthy.</p>
            <div class="chart-container h-96 max-w-4xl">
                <canvas id="weeklyActivityChart"></canvas>
            </div>
        </section>

    </div>

    <script>
        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            }
            return label;
        };

        const wrapLabel = (label, maxLength = 16) => {
            if (label.length <= maxLength) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).length > maxLength) {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine = (currentLine ? currentLine + ' ' : '') + word;
                }
            }
            lines.push(currentLine);
            return lines;
        };

        // Overall Funnel Chart
        const overallFunnelCtx = document.getElementById('overallFunnelChart').getContext('2d');
        new Chart(overallFunnelCtx, {
            type: 'bar',
            data: {
                labels: ['Total Leads (SDL)', 'SDL First Touch', 'Sales Qualified (SQL)'],
                datasets: [{
                    label: 'Lead Count',
                    data: [533, 312, 157],
                    backgroundColor: ['#003f5c', '#7a5195', '#ef5675'],
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                },
                scales: {
                    x: { grid: { display: false } },
                    y: { grid: { display: false } }
                }
            }
        });

        // Weekly Funnel Chart
        const weeklyFunnelCtx = document.getElementById('weeklyFunnelChart').getContext('2d');
        new Chart(weeklyFunnelCtx, {
            type: 'bar',
            data: {
                labels: ['Total Leads (SDL)', 'SDL First Touch', 'Sales Qualified (SQL)'],
                datasets: [{
                    label: 'Lead Count',
                    data: [45, 21, 8],
                    backgroundColor: ['#003f5c', '#7a5195', '#ef5675'],
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                },
                scales: {
                    x: { grid: { display: false } },
                    y: { grid: { display: false } }
                }
            }
        });

        // Disqualification Chart
        const disqualificationCtx = document.getElementById('disqualificationChart').getContext('2d');
        const disqualificationLabels = [
            'No Budget',
            'Lost to Competitor',
            'Timeline Not Aligned',
            'Unresponsive Contact',
            'Wrong Decision Maker'
        ].map(label => wrapLabel(label));

        new Chart(disqualificationCtx, {
            type: 'bar',
            data: {
                labels: disqualificationLabels,
                datasets: [{
                    label: 'Number of Leads',
                    data: [8, 6, 5, 3, 2],
                    backgroundColor: ['#ef5675', '#ff764a', '#ffa600', '#7a5195', '#003f5c'],
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                },
                scales: {
                    x: { beginAtZero: true }
                }
            }
        });

        // Weekly Activity Chart
        const weeklyActivityCtx = document.getElementById('weeklyActivityChart').getContext('2d');
        new Chart(weeklyActivityCtx, {
            type: 'line',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4 (Current)'],
                datasets: [{
                    label: 'New SDLs',
                    data: [52, 65, 58, 45],
                    borderColor: '#003f5c',
                    backgroundColor: '#003f5c',
                    tension: 0.1,
                    fill: false
                }, {
                    label: 'New SQLs',
                    data: [12, 18, 15, 8],
                    borderColor: '#ef5675',
                    backgroundColor: '#ef5675',
                    tension: 0.1,
                    fill: false
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: { callbacks: { title: tooltipTitleCallback } }
                },
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    </script>
</body>
</html>
